<!-- topup.html -->
<div class="topup-container">
  <div class="topup-box">
    <div class="topup-header">
      <button type="button" class="btn-back" (click)="goBack()">ย้อนกลับ</button>

      <div class="wallet">
        <img class="wallet-logo" src="/images/true.png" alt="TrueMoney Wallet" />
        <div class="wallet-info">
          <div class="wallet-name">{{ wallet.name }}</div>
          <div class="wallet-number">{{ wallet.number }}</div>
          <div class="wallet-owner">{{ wallet.owner }}</div>
        </div>
      </div>
    </div>

    <div class="preset-row">
      <button
        *ngFor="let p of presets"
        type="button"
        class="chip"
        [class.active]="amount === p"
        (click)="selectPreset(p)">
        {{ p | number:'1.0-0' }}
      </button>
    </div>

    <div class="form-group">
      <label for="custom">กรอกจำนวนเงิน</label>
      <input
        id="custom"
        type="number"
        min="1"
        class="form-input"
        [(ngModel)]="custom"
        (ngModelChange)="onCustomChange()" />
      <div class="hint" *ngIf="amount > 0">ยอดที่จะเติม: <b>{{ amount | number }}</b> บาท</div>
      <div class="error" *ngIf="error">{{ error }}</div>
    </div>

    <div class="actions">
      <button type="button" class="btn-primary" [disabled]="!canSubmit()" (click)="submitTopup()">
        เติมเงิน
      </button>
      <button type="button" class="btn-ghost" (click)="cancel()">ยกเลิก</button>
    </div>

    <!-- debug ถ้าต้องการ -->
    <!-- <pre>userId={{userId}} | amount={{amount}} | canSubmit={{canSubmit()}}</pre> -->
  </div>
</div>
